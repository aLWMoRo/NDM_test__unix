# ‚úâÔ∏è Unix/Linux Ping Tool
–ö—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
–∏ –ø–æ–ª—É—á–µ–Ω–∏—è MAC-–∞–¥—Ä–µ—Å–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
raw sockets.

## ‚≠êÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π C++20 —Å CMake
- POSIX API
- Raw ICMP sockets —Å —Ä—É—á–Ω–æ–π —Å–±–æ—Ä–∫–æ–π –ø–∞–∫–µ—Ç–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ MAC-–∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ /proc/net/arp –∏ –∫–æ–º–∞–Ω–¥—É arp
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω –≤ IP-–∞–¥—Ä–µ—Å–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WSL –∏ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ Linux
  
  ### ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
    –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–¥ root –ø—Ä–∞–≤–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  ### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
  - Unix/Linux —Å–∏—Å—Ç–µ–º–∞ –∏–ª–∏ WSL
  - CMake 3.31+
  - –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π C++20
  - root –ø—Ä–∞–≤–∞

  ### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  CMake –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö includes:

    sys/socket.h
    netinet/ip.h
    netinet/ic_icmp.h

  ### –°–±–æ—Ä–∫–∞
  ```bash
  git clone git@github.com:aLWMoRo/NDM_test__unix.git
  cd NDM_test__unix
  ```
  ```
  mkdir build && cd build
  cmake ..
  make
  ```
  ### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
  ```
  sudo make install
  ```


## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
  ### Ping –ø–æ Ip-–∞–¥—Ä–µ—Å—É
      ./NDM_test__unix 8.8.8.8
  
  ### Ping –ø–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏
      ./NDM_test__unix google.com
  
  ### Ping –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      ./NDM_test__unix localhost

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
![screenshot](Images/Example_ping.png)


## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- –Ø–∑—ã–∫: C++20
- –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏: CMake
- –°–µ—Ç–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å: Raw ICMP sockets (IPPROTO_ICMP)
- Mac-–∞–¥—Ä–µ—Å–∞: /proc/net/arp + fallback –Ω–∞ –∫–æ–º–∞–Ω–¥—É arp
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å RAII


## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
NDM_test__unix/
  ‚îú‚îÄ‚îÄ CMakeLists.txt        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CMake
  ‚îú‚îÄ‚îÄ main.h                # Header —Ñ–∞–π–ª
  ‚îú‚îÄ‚îÄ main.cpp              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ‚îî‚îÄ‚îÄ README                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```


## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  ### –°–µ—Ç–µ–≤–∞—è —á–∞—Å—Ç—å
  - –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ ICMP-–ø–∞–∫–µ—Ç–æ–≤ —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º checksum
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ raw sockets –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø–∞–∫–µ—Ç–∞–º–∏
  - Timeout –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ receive —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π EAGAIN/EWOULDBLOCK

  ### MAC-–∞–¥—Ä–µ—Å–∞
  - –ü–µ—Ä–≤–∏—á–Ω—ã–π –º–µ—Ç–æ–¥: /proc/net/arp
  - –†–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ç–æ–¥: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã arp -n
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MAC-–∞–¥—Ä–µ—Å–æ–≤

  ### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ SIGINT –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö
  - Exception-safe –∫–æ–¥ —Å RAII


## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
  ### Permission denied
  –†–µ—à–µ–Ω–∏–µ
  ```
  sudo ./NDM_test__unix <ip address/Domain name>
  ```

  ### Socket() failed
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å root –ø—Ä–∞–≤–∞
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç raw sockets

  ### MAC address not found
  - –¶–µ–ª–µ–≤–æ–π —Ö–æ—Å—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
  - ARP-—Ç–∞–±–ª–∏—Ü–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤


## WSL Compatibility
–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Windows Systems for Linux:
  ```bash
  # –í WSL
  sudo ./NDM_test__unix 8.8.8.8
  ```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.